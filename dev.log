
> nextjs_tailwind_shadcn_ts@0.1.0 dev /home/z/my-project
> next dev -p 3000

   â–² Next.js 15.5.7
   - Local:        http://localhost:3000
   - Network:      http://21.0.5.14:3000
   - Environments: .env.local, .env.development, .env
   - Experiments (use with caution):
     Â· optimizePackageImports

 âœ“ Starting...
 âœ“ Ready in 1571ms
 â—‹ Compiling /api/auth/me ...
 âœ“ Compiled /api/auth/me in 2.1s (438 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/auth/me 200 in 2709ms
 âœ“ Compiled /api/data/balances in 175ms (440 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/balances 200 in 798ms
 âœ“ Compiled /middleware in 448ms (182 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 â—‹ Compiling / ...
 âœ“ Compiled / in 5.2s (1861 modules)
 GET / 200 in 5674ms
 âœ“ Compiled in 611ms (957 modules)
 âœ“ Compiled in 168ms (789 modules)
 âœ“ Compiled in 107ms (957 modules)
 âœ“ Compiled in 364ms (957 modules)
 âœ“ Compiled in 146ms (789 modules)
 âœ“ Compiled in 89ms (957 modules)
 â—‹ Compiling /api/data/transactions ...
 âœ“ Compiled /api/data/transactions in 588ms (1019 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/transactions 200 in 1269ms
 âœ“ Compiled /api/data/recurring-transactions in 170ms (1021 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/recurring-transactions 200 in 707ms
 âœ“ Compiled /api/data/notes in 283ms (1023 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 651ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 POST /api/data/transactions 200 in 309ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 POST /api/data/recurring-transactions 200 in 320ms
 POST /api/data/notes 405 in 12ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/transactions 200 in 315ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/recurring-transactions 200 in 297ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 285ms
 âœ“ Compiled in 629ms (1037 modules)
 âœ“ Compiled in 267ms (789 modules)
 âœ“ Compiled /api/data/transactions in 68ms (244 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/transactions 200 in 693ms
 âœ“ Compiled /api/data/recurring-transactions in 134ms (246 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/recurring-transactions 200 in 513ms
 âœ“ Compiled /api/data/notes in 90ms (248 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 402ms
 POST /api/data/notes 405 in 16ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 473ms
 POST /api/data/notes 405 in 13ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 343ms
 POST /api/data/notes 405 in 17ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
 GET /api/data/notes 200 in 357ms
 âœ“ Compiled /api/data/notes/[noteId] in 472ms (1021 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Error: Route "/api/data/notes/[noteId]" used `params.noteId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at GET (src/app/api/data/notes/[noteId]/route.ts:39:24)
  37 |       .from('user_data')
  38 |       .select('*')
> 39 |       .eq('id', params.noteId)
     |                        ^
  40 |       .eq('userid', auth.user.id)
  41 |       .eq('type', 'note')
  42 |       .single()
Note GET error: {
  code: 'PGRST116',
  details: 'The result contains 0 rows',
  hint: null,
  message: 'Cannot coerce the result to a single JSON object'
}
 GET /api/data/notes/test-note 404 in 1470ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Error: Route "/api/data/notes/[noteId]" used `params.noteId`. `params` should be awaited before using its properties. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis
    at PUT (src/app/api/data/notes/[noteId]/route.ts:136:24)
  134 |       .from('user_data')
  135 |       .select('*')
> 136 |       .eq('id', params.noteId)
      |                        ^
  137 |       .eq('userid', auth.user.id)
  138 |       .eq('type', 'note')
  139 |       .single()
 PUT /api/data/notes/test-note 404 in 480ms
 âœ“ Compiled in 332ms (789 modules)
 âœ“ Compiled in 279ms (789 modules)
 âœ“ Compiled in 186ms (789 modules)
 âœ“ Compiled /api/data/transactions in 185ms (244 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Fetching transactions for userId: user_1765294651433_fk5llgnqc {
  limit: 50,
  offset: 0,
  type: null,
  category: null,
  startDate: null,
  endDate: null
}
Transactions fetched successfully: 1
 GET /api/data/transactions 200 in 812ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Creating transaction: {
  userId: 'user_1765294651433_fk5llgnqc',
  amount: 250.5,
  description: 'MaaÅŸ Ã¶demesi',
  category: 'faturalar',
  type: 'expense'
}
Transaction created successfully: trans_user_1765294651433_fk5llgnqc_1765296054077_fjukfhqii
 POST /api/data/transactions 200 in 313ms
 âœ“ Compiled /api/data/recurring-transactions in 156ms (246 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Fetching recurring transactions for userId: user_1765294651433_fk5llgnqc
Recurring transactions fetched successfully: 1
 GET /api/data/recurring-transactions 200 in 511ms
 âœ“ Compiled /api/data/notes in 89ms (248 modules)
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Fetching notes for userId: user_1765294651433_fk5llgnqc { limit: 50, offset: 0 }
Notes fetched successfully: 0
 GET /api/data/notes 200 in 400ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Creating note: { userId: 'user_1765294651433_fk5llgnqc', title: 'AlÄ±ÅŸveriÅŸ listesi' }
Note created successfully: note_user_1765294651433_fk5llgnqc_1765296070468_cth98jayo
 POST /api/data/notes 200 in 325ms
AuthService: Verifying token
AuthService: Token verification successful for: testuser@test.com
Fetching transactions for userId: user_1765294651433_fk5llgnqc {
  limit: 50,
  offset: 0,
  type: null,
  category: null,
  startDate: null,
  endDate: null
}
Transactions fetched successfully: 2
 GET /api/data/transactions 200 in 299ms
 â—‹ Compiling /_not-found ...
 âœ“ Compiled /_not-found in 1499ms (1521 modules)
 GET /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 404 in 1809ms
 GET /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 404 in 40ms
 GET /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 404 in 47ms
 âœ“ Compiled in 300ms (793 modules)
 âœ“ Compiled in 301ms (957 modules)
 âœ“ Compiled /api/data/investments in 301ms (1019 modules)
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/data/investments/route.ts:19:34)
    at GET (src/app/api/data/investments/route.ts:30:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 GET /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 459ms
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/data/investments/route.ts:19:34)
    at POST (src/app/api/data/investments/route.ts:116:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 POST /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 69ms
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/data/investments/route.ts:19:34)
    at POST (src/app/api/data/investments/route.ts:116:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 POST /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 74ms
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/data/investments/route.ts:19:34)
    at GET (src/app/api/data/investments/route.ts:30:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 GET /api/data/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 63ms
 âœ“ Compiled in 192ms (789 modules)
 âœ“ Compiled in 115ms (1201 modules)
 âœ“ Compiled in 171ms (789 modules)
 âœ“ Compiled in 111ms (957 modules)
 âœ“ Compiled /api/investments in 139ms (1019 modules)
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/investments/route.ts:19:34)
    at GET (src/app/api/investments/route.ts:30:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 GET /api/investments?userId=demo_user&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 262ms
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/investments/route.ts:19:34)
    at POST (src/app/api/investments/route.ts:91:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 POST /api/investments?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 56ms
AuthService: Verifying token
AuthService: Token verification error: JWSInvalid: Failed to base64url decode the signature
    at AuthService.verifyToken (src/lib/auth-service.ts:241:42)
    at authenticate (src/app/api/investments/route.ts:19:34)
    at GET (src/app/api/investments/route.ts:30:24)
  239 |       console.log('AuthService: Verifying token')
  240 |       
> 241 |       const { payload } = await jwtVerify(token, JWT_SECRET)
      |                                          ^
  242 |       const decoded = payload as { userId: string; email: string; role?: string; id?: string }
  243 |       
  244 |       // Find user in database {
  code: 'ERR_JWS_INVALID'
}
 GET /api/investments?userId=demo_user&token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZW1vX3VzZXIiLCJpYXQiOjE3NjUyNzczMjEsImV4cCI6MTc2NTM2MzcyMX0.FakeToken 401 in 92ms
=== MIDDLEWARE DEBUG ===
Pathname: /app/investments
Method: GET
Not an admin route or login page, proceeding
 â—‹ Compiling /app/investments ...
 âœ“ Compiled /app/investments in 2.3s (1885 modules)
 GET /app/investments 200 in 2704ms
 âœ“ Compiled /_not-found in 350ms (1890 modules)
 GET /api/auth/status 404 in 558ms
 âœ“ Compiled in 259ms (825 modules)
 âœ“ Compiled in 145ms (825 modules)
 âœ“ Compiled in 211ms (2072 modules)
 âœ“ Compiled /api/auth/status in 252ms (1892 modules)
 GET /api/auth/status 401 in 334ms
 GET /api/blog?limit=12 404 in 157ms
 âœ“ Compiled in 465ms (989 modules)
 âœ“ Compiled in 147ms (821 modules)
 âœ“ Compiled in 98ms (989 modules)
 âœ“ Compiled in 147ms (821 modules)
 âœ“ Compiled in 128ms (989 modules)
 âœ“ Compiled /api/blog in 323ms (982 modules)
Blog posts fetch error: {
  code: '42703',
  details: null,
  hint: 'Perhaps you meant to reference the column "blog_posts.createdat".',
  message: 'column blog_posts.created_at does not exist'
}
 GET /api/blog?limit=12 500 in 955ms
 âœ“ Compiled /api/blog/categories in 259ms (984 modules)
 GET /api/blog/categories 200 in 651ms
Blog post creation error: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'author_avatar' column of 'blog_posts' in the schema cache"
}
 POST /api/blog 500 in 580ms
Blog post creation error: {
  code: 'PGRST204',
  details: null,
  hint: null,
  message: "Could not find the 'author_avatar' column of 'blog_posts' in the schema cache"
}
 POST /api/blog 500 in 168ms
Blog posts fetch error: {
  code: '42703',
  details: null,
  hint: 'Perhaps you meant to reference the column "blog_posts.createdat".',
  message: 'column blog_posts.created_at does not exist'
}
 GET /api/blog?limit=12 500 in 156ms
=== MIDDLEWARE DEBUG ===
Pathname: /blog
Method: GET
Not an admin route or login page, proceeding
 â—‹ Compiling /blog ...
 âœ“ Compiled /blog in 1850ms (1816 modules)
 âœ“ Compiled /api/blog/categories in 169ms (986 modules)
Blog posts fetch error: {
  code: '42703',
  details: null,
  hint: 'Perhaps you meant to reference the column "blog_posts.createdat".',
  message: 'column blog_posts.created_at does not exist'
}
 GET /api/blog?limit=12 500 in 239ms
Blog API response error: 500
 GET /api/blog/categories 200 in 399ms
 GET /blog 200 in 2663ms
 âœ“ Compiled in 361ms (1832 modules)
 âœ“ Compiled in 237ms (1832 modules)
 âœ“ Compiled in 447ms (1832 modules)
 âœ“ Compiled in 248ms (1832 modules)
 âœ“ Compiled in 125ms (846 modules)
 âœ“ Compiled in 148ms (846 modules)
 âœ“ Compiled in 152ms (846 modules)
 GET /api/blog?limit=12 200 in 184ms
=== MIDDLEWARE DEBUG ===
Pathname: /blog
Method: GET
Not an admin route or login page, proceeding
 GET /api/blog?limit=12 200 in 134ms
 GET /api/blog/categories 200 in 355ms
 GET /blog 200 in 647ms
=== MIDDLEWARE DEBUG ===
Pathname: /blog
Method: GET
Not an admin route or login page, proceeding
 GET /api/blog/categories 200 in 140ms
 GET /api/blog?limit=12 200 in 142ms
 GET /blog 200 in 224ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Middleware: Token found: false
Not an admin route or login page, proceeding
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login ...
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login in 1287ms (1614 modules)
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login 200 in 1612ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users ...
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 401 in 647ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/posts
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/posts 401 in 253ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/categories
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/categories 401 in 264ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats 401 in 271ms
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 POST /api/auth/signin 400 in 460ms
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats
Method: GET
API route, skipping middleware
Admin API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats 200 in 47ms
 âœ“ Compiled /api/auth/signin in 352ms (956 modules)
 âœ“ Compiled in 186ms (854 modules)
 âœ“ Compiled in 218ms (854 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
Admin Users API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 200 in 128ms
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users ...
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/posts
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
Admin Posts API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/posts 200 in 98ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/categories
Method: GET
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
Admin Categories API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/categories 200 in 85ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Middleware: Token found: false
Middleware: No token, redirecting to login
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 206ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/posts
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/posts
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/categories
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/categories
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âœ“ Compiled / in 1532ms (910 modules)
 GET / 200 in 1883ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 50ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Middleware: Token found: false
Not an admin route or login page, proceeding
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login in 262ms (923 modules)
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login 200 in 514ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth in 120ms (1009 modules)
Admin Auth API: Login attempt { username: 'noyan4job@gmail.com', hasPassword: true }
Admin Auth API: Invalid credentials
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 401 in 228ms
 âš  Cross origin request detected from preview-chat-52462d31-6021-41a9-9f9d-a484581c6f0e.space.z.ai to /_next/* resource. In a future major version of Next.js, you will need to explicitly configure "allowedDevOrigins" in next.config to allow this.
Read more: https://nextjs.org/docs/app/api-reference/config/next-config-js/allowedDevOrigins
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 19ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 20ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 14ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'wrong', hasPassword: true }
Admin Auth API: Invalid credentials
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 401 in 13ms
 âœ“ Compiled in 520ms (1863 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Middleware: Token found: false
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 166ms
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login 200 in 169ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
Admin Auth API: Response {"success":true,"data":{"user":{"id":"admin","username":"admin","email":"admin@butcapp.com","name":"admin","role":"admin","lastLogin":"2025-12-09T17:20:03.066Z"},"token":"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AYnV0Y2FwcC5jb20iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjUzMDA4MDMsImV4cCI6MTc2NTM4NzIwM30.xlWxt2OXgz4zzwZaCZQr_xQlr-QbeAOqwyM_PSotTHs"}}
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 32ms
 â¨¯ ./src/contexts/AdminAuthContext.tsx
Error:   [31mx[0m Expected a semicolon
     ,-[[36;1;4m/home/z/my-project/src/contexts/AdminAuthContext.tsx[0m:192:1]
 [2m189[0m |     }
 [2m190[0m |   }
 [2m191[0m | 
 [2m192[0m |   const logout = () => {
     : [35;1m  ^[0m
 [2m193[0m |     setUser(null)
 [2m194[0m |     setToken(null)
 [2m195[0m |     localStorage.removeItem('adminUser')
     `----
  [31mx[0m 'import', and 'export' cannot be used outside of module code
     ,-[[36;1;4m/home/z/my-project/src/contexts/AdminAuthContext.tsx[0m:223:1]
 [2m220[0m |   )
 [2m221[0m | }
 [2m222[0m | 
 [2m223[0m | export function useAuth() {
     : [35;1m^^^^^^[0m
 [2m224[0m |   const context = useContext(AuthContext)
 [2m225[0m |   if (context === undefined) {
 [2m226[0m |     throw new Error('useAuth must be used within an AuthProvider')
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/contexts/AdminAuthContext.tsx
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/layout.tsx
 â¨¯ ./src/contexts/AdminAuthContext.tsx
Error:   [31mx[0m Expected a semicolon
     ,-[[36;1;4m/home/z/my-project/src/contexts/AdminAuthContext.tsx[0m:192:1]
 [2m189[0m |       }
 [2m190[0m |     }
 [2m191[0m | 
 [2m192[0m |   const logout = () => {
     : [35;1m  ^[0m
 [2m193[0m |     setUser(null)
 [2m194[0m |     setToken(null)
 [2m195[0m |     localStorage.removeItem('adminUser')
     `----
  [31mx[0m 'import', and 'export' cannot be used outside of module code
     ,-[[36;1;4m/home/z/my-project/src/contexts/AdminAuthContext.tsx[0m:223:1]
 [2m220[0m |   )
 [2m221[0m | }
 [2m222[0m | 
 [2m223[0m | export function useAuth() {
     : [35;1m^^^^^^[0m
 [2m224[0m |   const context = useContext(AuthContext)
 [2m225[0m |   if (context === undefined) {
 [2m226[0m |     throw new Error('useAuth must be used within an AuthProvider')
     `----

Caused by:
    Syntax Error

Import trace for requested module:
./src/contexts/AdminAuthContext.tsx
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/layout.tsx
 âœ“ Compiled in 715ms (1777 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Middleware: Token found: false
Not an admin route or login page, proceeding
 GET / 200 in 150ms
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login 200 in 38ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth in 149ms (1009 modules)
Admin Auth API: Login attempt { username: 'noyan4job@gmail.com', hasPassword: true }
Admin Auth API: Invalid credentials
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 401 in 253ms
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 279ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 44ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK
Middleware: Token found: false
Middleware: No token, redirecting to login
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Method: GET
Cookie token: false
Final token: false
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login
Middleware: Token found: false
Not an admin route or login page, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/login 200 in 88ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
Admin Auth API: Response {"success":true,"data":{"user":{"id":"admin","username":"admin","email":"admin@butcapp.com","name":"admin","role":"admin","lastLogin":"2025-12-09T17:28:01.985Z"},"token":"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AYnV0Y2FwcC5jb20iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjUzMDEyODEsImV4cCI6MTc2NTM4NzY4MX0._SzAcfY1zEv4TVwf5Re_FynJq1nPRHBRL1MKTWulkbs"}}
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 16ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
Admin Auth API: Response {"success":true,"data":{"user":{"id":"admin","username":"admin","email":"admin@butcapp.com","name":"admin","role":"admin","lastLogin":"2025-12-09T17:28:02.850Z"},"token":"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AYnV0Y2FwcC5jb20iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjUzMDEyODIsImV4cCI6MTc2NTM4NzY4Mn0.eRyPS7DZbYSrUFRaf-EgKdUhYDStLeuqxfTwYfmr5AQ"}}
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 14ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301282,
  exp: 1765387682
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard ...
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard in 3.5s (2916 modules)
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard 200 in 4053ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
Admin Auth API: Response {"success":true,"data":{"user":{"id":"admin","username":"admin","email":"admin@butcapp.com","name":"admin","role":"admin","lastLogin":"2025-12-09T17:28:07.817Z"},"token":"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AYnV0Y2FwcC5jb20iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjUzMDEyODcsImV4cCI6MTc2NTM4NzY4N30.6Zy34Kik7XToL1sYlKRLEdI8gh796aKRgyqgzY2p4IM"}}
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 32ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301282,
  exp: 1765387682
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard 200 in 93ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301282,
  exp: 1765387682
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard 200 in 25ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats
Method: GET
API route, skipping middleware
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats in 434ms (1547 modules)
Admin API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats 200 in 470ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats
Method: GET
API route, skipping middleware
Admin API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/realtime-stats 200 in 16ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users ...
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users in 1370ms (2938 modules)
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 1461ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users ...
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
Admin Users API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 200 in 602ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
Admin Users API: Authentication temporarily disabled for testing
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 200 in 12ms
=== MIDDLEWARE DEBUG ===
Pathname: /images/default-avatar.png
Method: GET
Not an admin route or login page, proceeding
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /images/default-avatar.png 404 in 610ms
 âœ“ Compiled /_not-found in 879ms (2864 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 163ms
 GET / 200 in 42ms
 âœ“ Compiled in 209ms (1391 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 24ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 32ms
 âœ“ Compiled in 252ms (1391 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 31ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 31ms
 âœ“ Compiled in 202ms (1391 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 67ms
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 75ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users ...
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
JWT Verification - Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzd...
Token verification error: Error: Invalid or expired token
    at verifyToken (src/lib/jwt.ts:35:11)
    at async verifyAdminToken (src/lib/jwt.ts:63:21)
    at async GET (src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts:32:21)
  33 |     return payload as JWTPayload
  34 |   } catch (error) {
> 35 |     throw new Error('Invalid or expired token')
     |           ^
  36 |   }
  37 | }
  38 |
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 403 in 928ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 101ms
 GET / 200 in 44ms
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 141ms
 GET / 200 in 126ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
JWT Verification - Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzd...
Token verification error: Error: Invalid or expired token
    at verifyToken (src/lib/jwt.ts:35:11)
    at async verifyAdminToken (src/lib/jwt.ts:63:21)
    at async GET (src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts:32:21)
  33 |     return payload as JWTPayload
  34 |   } catch (error) {
> 35 |     throw new Error('Invalid or expired token')
     |           ^
  36 |   }
  37 | }
  38 |
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 403 in 121ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth
Method: POST
API route, skipping middleware
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
Admin Auth API: Login attempt { username: 'admin', hasPassword: true }
Admin Auth API: Login successful { username: 'admin', role: 'admin' }
Admin Auth API: Response {"success":true,"data":{"user":{"id":"admin","username":"admin","email":"admin@butcapp.com","name":"admin","role":"admin","lastLogin":"2025-12-09T17:33:05.150Z"},"token":"eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiYWRtaW5AYnV0Y2FwcC5jb20iLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjUzMDE1ODUsImV4cCI6MTc2NTM4Nzk4NX0.S8xSCDz_ZXMpQq4RWJYWUNIfs3hazLDL-IHFER2kLvw"}}
 POST /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/auth 200 in 453ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 58ms
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 44ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/users 200 in 255ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users
Method: GET
API route, skipping middleware
CORS: Request origin: null
CORS: Headers: {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-Requested-With, Accept',
  'Access-Control-Allow-Credentials': 'true',
  'Access-Control-Max-Age': '86400'
}
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users 200 in 630ms
=== MIDDLEWARE DEBUG ===
Pathname: /images/default-avatar.png
Method: GET
Not an admin route or login page, proceeding
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /images/default-avatar.png 404 in 1270ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/system-logs
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/system-logs
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/system-logs 200 in 1708ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/logs
Method: GET
API route, skipping middleware
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/logs?limit=50&offset=0 404 in 137ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/logs
Method: GET
API route, skipping middleware
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/logs?limit=50&offset=0 404 in 50ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 âš  ./src/lib/logger.ts
Attempted import error: 'supabase' is not exported from '@/lib/db' (imported as 'supabase').

Import trace for requested module:
./src/lib/logger.ts
./src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/users/route.ts
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 654ms
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status in 885ms (2906 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 177ms
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 188ms
 âœ“ Compiled in 209ms (1409 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /
Method: GET
Not an admin route or login page, proceeding
 GET / 200 in 27ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
 âœ“ Compiled /_not-found in 320ms (2897 modules)
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 404 in 514ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 404 in 41ms
 âœ“ Compiled in 200ms (1413 modules)
 âœ“ Compiled in 396ms (3078 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
 â—‹ Compiling /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status ...
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status in 636ms (2983 modules)
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 734ms
 âš  Fast Refresh had to perform a full reload due to a runtime error.
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 206ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
JWT Verification - Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzd...
Token verification error: Error: Invalid or expired token
    at verifyToken (src/lib/jwt.ts:35:11)
    at async verifyAdminToken (src/lib/jwt.ts:63:21)
    at async GET (src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status/route.ts:15:21)
  33 |     return payload as JWTPayload
  34 |   } catch (error) {
> 35 |     throw new Error('Invalid or expired token')
     |           ^
  36 |   }
  37 | }
  38 |
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 403 in 100ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 21ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
 âœ“ Compiled in 893ms (2997 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 228ms
 âš  Fast Refresh had to perform a full reload due to a runtime error.
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 56ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 77ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 16ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
 âœ“ Compiled in 1095ms (2906 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 286ms
 âš  Fast Refresh had to perform a full reload due to a runtime error.
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
 âœ“ Compiled /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status in 236ms (1584 modules)
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 344ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
JWT Verification - Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzd...
Token verification error: Error: Invalid or expired token
    at verifyToken (src/lib/jwt.ts:35:11)
    at async verifyAdminToken (src/lib/jwt.ts:63:21)
    at async GET (src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status/route.ts:16:21)
  33 |     return payload as JWTPayload
  34 |   } catch (error) {
> 35 |     throw new Error('Invalid or expired token')
     |           ^
  36 |   }
  37 | }
  38 |
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 403 in 96ms
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
JWT Verification - Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzd...
Token verification error: Error: Invalid or expired token
    at verifyToken (src/lib/jwt.ts:35:11)
    at async verifyAdminToken (src/lib/jwt.ts:63:21)
    at async GET (src/app/0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status/route.ts:16:21)
  33 |     return payload as JWTPayload
  34 |   } catch (error) {
> 35 |     throw new Error('Invalid or expired token')
     |           ^
  36 |   }
  37 | }
  38 |
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 403 in 75ms
 âœ“ Compiled in 434ms (2993 modules)
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Method: GET
Cookie token: true
Final token: true
Middleware: Checking path: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status
Middleware: Token found: true
Verifying token...
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
Middleware: Is admin: true
Middleware: Admin verified, proceeding
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/dashboard/server-status 200 in 226ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
=== MIDDLEWARE DEBUG ===
Pathname: /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status
Method: GET
API route, skipping middleware
 âœ“ Compiled in 796ms (2993 modules)
JWT Verification - Token: eyJhbGciOiJIUzI1NiJ9.eyJpZCI6ImFkbWluIiwidXNlcm5hb...
JWT Payload: {
  id: 'admin',
  username: 'admin',
  email: 'admin@butcapp.com',
  role: 'admin',
  iat: 1765301287,
  exp: 1765387687
}
User has admin role: admin
 GET /0gv6O9Gizwrd1FCb40H22JE8y9aIgK/api/system-status 200 in 340ms
=== MIDDLEWARE DEBUG ===
Pathname: /favicon.png
Method: GET
Not an admin route or login page, proceeding
